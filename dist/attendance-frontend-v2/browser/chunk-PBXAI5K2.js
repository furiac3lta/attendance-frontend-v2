import{a as q}from"./chunk-25CNMZSN.js";import{a as L}from"./chunk-QJGRYSSM.js";import{a as F,b as $}from"./chunk-QO7BDAEL.js";import{a as R,b as y,c as E,d as N,e as V,f as T,g as k,h as O,i as H,j as B,k as j}from"./chunk-GV56X2P2.js";import"./chunk-XODYYG4P.js";import{a as h,c as b}from"./chunk-5JTNXZA4.js";import"./chunk-FOSQZ4YM.js";import{a as P,b as I}from"./chunk-4TOFOFSS.js";import{b as A,d as D,e as x,f as S}from"./chunk-V33OWUZQ.js";import{Ca as o,Gb as r,Hb as w,Ib as M,Ka as c,Pb as u,Qa as g,Ua as l,e as K,fb as m,gb as i,hb as n,ib as d,mb as p,nb as f,oc as _,rb as v,vc as C}from"./chunk-EKT4D7I2.js";var J=K(L());var z=()=>["fullName","present"];function Q(e,a){e&1&&(i(0,"th",10),r(1," Alumno "),n())}function U(e,a){if(e&1&&(i(0,"td",11),r(1),n()),e&2){let t=a.$implicit;o(),w(t.fullName)}}function W(e,a){e&1&&(i(0,"th",10),r(1," Presente "),n())}function X(e,a){if(e&1&&(i(0,"td",11)(1,"mat-icon",12),r(2),n()()),e&2){let t=a.$implicit;o(),m("ngClass",t.present?"present":"absent"),o(),M(" ",t.present?"check_circle":"cancel"," ")}}function Y(e,a){e&1&&d(0,"tr",13)}function Z(e,a){e&1&&d(0,"tr",14)}var G=class e{constructor(a,t,s){this.route=a;this.attendanceSvc=t;this.router=s}classId;records=[];displayedColumns=["fullName","present"];ngOnInit(){this.classId=Number(this.route.snapshot.paramMap.get("classId")),this.attendanceSvc.getAttendance(this.classId).subscribe({next:a=>{this.records=a.map(t=>({fullName:t.studentName,present:t.attended}))},error:()=>{J.default.fire({title:"Error",text:"No se pudo cargar la asistencia.",icon:"error",heightAuto:!1})}})}goBack(){window.history.back()}static \u0275fac=function(t){return new(t||e)(c(h),c(q),c(b))};static \u0275cmp=g({type:e,selectors:[["app-attendance-view"]],decls:18,vars:5,consts:[[1,"attendance-view-card"],["mat-table","",1,"table-modern","responsive-table",3,"dataSource"],["matColumnDef","fullName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","present"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"actions"],["mat-raised-button","","color","primary",3,"click"],["mat-header-cell",""],["mat-cell",""],[3,"ngClass"],["mat-header-row",""],["mat-row",""]],template:function(t,s){t&1&&(i(0,"mat-card",0)(1,"h2"),r(2,"Asistencia de la clase"),n(),d(3,"mat-divider"),i(4,"table",1),p(5,2),l(6,Q,2,0,"th",3)(7,U,2,1,"td",4),f(),p(8,5),l(9,W,2,0,"th",3)(10,X,3,2,"td",4),f(),l(11,Y,1,0,"tr",6)(12,Z,1,0,"tr",7),n(),i(13,"div",8)(14,"button",9),v("click",function(){return s.goBack()}),i(15,"mat-icon"),r(16,"arrow_back"),n(),r(17," Volver "),n()()()),t&2&&(o(4),m("dataSource",s.records),o(7),m("matHeaderRowDef",u(3,z)),o(),m("matRowDefColumns",u(4,z)))},dependencies:[C,_,I,P,j,R,E,k,N,y,O,V,T,H,B,D,A,S,x,$,F],styles:[".attendance-view-card[_ngcontent-%COMP%]{max-width:650px;margin:2rem auto;padding:1.5rem}table[_ngcontent-%COMP%]{width:100%;margin-top:1rem}.present[_ngcontent-%COMP%]{color:#70d6ff}.absent[_ngcontent-%COMP%]{color:#ff70a6}.actions[_ngcontent-%COMP%]{margin-top:1.5rem;text-align:right}"]})};export{G as AttendanceViewPage};
