import{a as $}from"./chunk-NOHJCWSU.js";import{a as j,b as U}from"./chunk-QO7BDAEL.js";import{a as E,b as I,c as T,d as P,e as R,f as y,g as N,h as H,i as F,j as A,k as B}from"./chunk-GV56X2P2.js";import"./chunk-XODYYG4P.js";import{a as x}from"./chunk-5JTNXZA4.js";import"./chunk-FOSQZ4YM.js";import{a as O,b as w}from"./chunk-4TOFOFSS.js";import{b as M,d as S,e as b,f as h}from"./chunk-V33OWUZQ.js";import{Ca as r,Eb as D,Gb as o,Hb as _,Ib as v,Ka as f,Pb as d,Qa as u,Ua as l,fb as m,gb as n,hb as i,ib as c,mb as p,nb as s,qc as z,sb as g,vc as C}from"./chunk-EKT4D7I2.js";var k=()=>["label","value"],K=()=>[],q=()=>["name","role"];function L(t,a){t&1&&(n(0,"th",16),o(1," Informaci\xF3n "),i())}function Q(t,a){if(t&1&&(n(0,"td",17),o(1),i()),t&2){let e=a.$implicit;r(),_(e.label)}}function V(t,a){t&1&&(n(0,"th",16),o(1," Detalle "),i())}function W(t,a){if(t&1&&(n(0,"td",17),o(1),i()),t&2){let e=a.$implicit;r(),_(e.value)}}function X(t,a){t&1&&c(0,"tr",18)}function Y(t,a){t&1&&c(0,"tr",19)}function Z(t,a){t&1&&(n(0,"th",16),o(1," Nombre "),i())}function tt(t,a){if(t&1&&(n(0,"td",17),o(1),i()),t&2){let e=a.$implicit;r(),_(e.fullName)}}function et(t,a){t&1&&(n(0,"th",16),o(1," Rol "),i())}function at(t,a){if(t&1&&(n(0,"td",17)(1,"span",20),o(2),i()()),t&2){let e=a.$implicit;r(),D("admin",e.role==="ADMIN")("instructor",e.role==="INSTRUCTOR")("user",e.role==="USER"),r(),v(" ",e.role," ")}}function it(t,a){t&1&&c(0,"tr",18)}function nt(t,a){t&1&&c(0,"tr",19)}function rt(t,a){if(t&1&&(n(0,"mat-card",1)(1,"h2",2),o(2),i(),c(3,"mat-divider"),n(4,"table",3),p(5,4),l(6,L,2,0,"th",5)(7,Q,2,1,"td",6),s(),p(8,7),l(9,V,2,0,"th",5)(10,W,2,1,"td",6),s(),l(11,X,1,0,"tr",8)(12,Y,1,0,"tr",9),i(),n(13,"div",10)(14,"button",11)(15,"mat-icon"),o(16,"person_add"),i(),o(17," Asignar admin "),i()(),n(18,"h3",12),o(19,"\u{1F465} Miembros"),i(),n(20,"table",13),p(21,14),l(22,Z,2,0,"th",5)(23,tt,2,1,"td",6),s(),p(24,15),l(25,et,2,0,"th",5)(26,at,3,7,"td",6),s(),l(27,it,1,0,"tr",8)(28,nt,1,0,"tr",9),i()()),t&2){let e=g();r(2),_(e.organization.name),r(2),m("dataSource",e.orgBasicData),r(7),m("matHeaderRowDef",d(7,k)),r(),m("matRowDefColumns",d(8,k)),r(8),m("dataSource",e.organization.users||d(9,K)),r(7),m("matHeaderRowDef",d(10,q)),r(),m("matRowDefColumns",d(11,q))}}var G=class t{constructor(a,e){this.route=a;this.orgService=e}organization;message="";orgBasicData=[];ngOnInit(){let a=Number(this.route.snapshot.paramMap.get("id"));a&&this.loadOrganization(a)}loadOrganization(a){this.orgService.findById(a).subscribe({next:e=>{this.organization=e,this.orgBasicData=[{label:"Tipo",value:e.type},{label:"Direcci\xF3n",value:e.address||"\u2014"},{label:"Tel\xE9fono",value:e.phone||"\u2014"},{label:"Administrador",value:e.admin?.fullName||"Sin asignar"}]},error:e=>{console.error("\u274C Error al cargar detalle:",e),this.message="\u274C No se pudo cargar la organizaci\xF3n."}})}static \u0275fac=function(e){return new(e||t)(f(x),f($))};static \u0275cmp=u({type:t,selectors:[["app-organization-detail-page"]],decls:1,vars:1,consts:[["class","org-detail-wrapper",4,"ngIf"],[1,"org-detail-wrapper"],[1,"title"],["mat-table","",1,"mat-elevation-z2","info-table",3,"dataSource"],["matColumnDef","label"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","value"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"actions"],["mat-raised-button","","color","primary"],[1,"subtitle"],["mat-table","",1,"mat-elevation-z2","members-table",3,"dataSource"],["matColumnDef","name"],["matColumnDef","role"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"role-chip"]],template:function(e,J){e&1&&l(0,rt,29,12,"mat-card",0),e&2&&m("ngIf",J.organization)},dependencies:[C,z,w,O,B,E,T,N,P,I,H,R,y,F,A,U,j,S,M,h,b],styles:[".org-detail-wrapper[_ngcontent-%COMP%]{padding:5rem}"]})};export{G as OrganizationDetailPage};
