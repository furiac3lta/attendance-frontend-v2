import{a as j}from"./chunk-QJGRYSSM.js";import"./chunk-VN3CQEPZ.js";import{a as q}from"./chunk-WOQCSS36.js";import{a as k,b as A,c as V}from"./chunk-SKV5MVK2.js";import{a as G,e as O}from"./chunk-A3HJGCKZ.js";import{b as h,d as x,f as P,g as S,j as y,k as F,l as _,p as E,q as I,s as N}from"./chunk-RLT3B664.js";import{c as g}from"./chunk-5JTNXZA4.js";import"./chunk-FOSQZ4YM.js";import{a as w,b as D}from"./chunk-4TOFOFSS.js";import{b as C,d as v,e as b,f as M}from"./chunk-V33OWUZQ.js";import{Ca as s,Gb as r,Qa as d,ba as a,e as T,fb as u,gb as t,hb as e,ib as m,rb as c,vc as f}from"./chunk-EKT4D7I2.js";var l=T(j());var B=class p{fb=a(I);router=a(g);coursesSvc=a(q);form=this.fb.group({name:["",x.required],description:[""],universityProgram:[""],instructorId:[1]});createCourse(){if(this.form.invalid){l.default.fire({icon:"warning",title:"Campos incompletos",text:"Por favor complet\xE1 los campos obligatorios.",heightAuto:!1});return}let o=this.form.value,i={name:o.name??"",description:o.description??"",universityProgram:o.universityProgram??"",instructorId:o.instructorId??1};this.coursesSvc.create(i).subscribe({next:()=>{l.default.fire({icon:"success",title:"Curso creado",text:"El curso fue creado correctamente.",heightAuto:!1}).then(()=>{this.router.navigate(["/courses"])})},error:n=>{console.error("\u274C Error al crear curso:",n),l.default.fire({icon:"error",title:"Error",text:"No se pudo crear el curso. Intent\xE1 nuevamente.",heightAuto:!1})}})}cancel(){this.router.navigate(["/courses"])}static \u0275fac=function(i){return new(i||p)};static \u0275cmp=d({type:p,selectors:[["app-course-form"]],decls:25,vars:2,consts:[[1,"course-card"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","name","required",""],["matInput","","formControlName","description"],["matInput","","formControlName","universityProgram"],[1,"actions"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-stroked-button","","type","button",3,"click"]],template:function(i,n){i&1&&(t(0,"mat-card",0)(1,"h2"),r(2,"Crear Curso"),e(),t(3,"form",1),c("ngSubmit",function(){return n.createCourse()}),t(4,"mat-form-field",2)(5,"mat-label"),r(6,"Nombre del curso"),e(),m(7,"input",3),e(),t(8,"mat-form-field",2)(9,"mat-label"),r(10,"Descripci\xF3n"),e(),m(11,"input",4),e(),t(12,"mat-form-field",2)(13,"mat-label"),r(14,"Programa Universitario"),e(),m(15,"input",5),e(),t(16,"div",6)(17,"button",7)(18,"mat-icon"),r(19,"save"),e(),r(20," Guardar "),e(),t(21,"button",8),c("click",function(){return n.cancel()}),t(22,"mat-icon"),r(23,"cancel"),e(),r(24," Cancelar "),e()()()()),i&2&&(s(3),u("formGroup",n.form),s(14),u("disabled",n.form.invalid))},dependencies:[f,N,y,h,P,S,E,F,_,D,w,k,O,G,V,A,v,C,M,b],styles:[".course-card[_ngcontent-%COMP%]{max-width:600px;margin:40px auto;padding:24px;display:flex;flex-direction:column;gap:16px}.full-width[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{margin-top:10px;height:44px;display:flex;align-items:center;gap:6px}.mat-mdc-outlined-button[_ngcontent-%COMP%]{color:#978e8e!important}.mat-mdc-outlined-button[_ngcontent-%COMP%]:hover{color:#a2d2ff!important}"]})};export{B as CourseFormPage};
